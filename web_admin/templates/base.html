<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>VPN Manager Admin</title>
    <link rel="icon" href="{{ request.app.root_path }}/static/favicon.ico" />
    <link rel="stylesheet" href="{{ request.app.root_path }}/static/admin.css">
    <link rel="stylesheet" href="{{ request.app.root_path }}/static/common.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="dark-theme very-dark">
    <div class="sidebar">
        <a href="/manager/" class="sidebar-logo active-logo">VPN Manager</a>
        <div class="sidebar-theme">
            <span id="themeIcon" style="font-size:1.2em;">üåô</span>
            <button type="button" id="themeSwitch" role="switch" class="ant-switch ant-switch-small" aria-checked="true"></button>
        </div>
        <nav>
            <a href="/manager/stats" class="sidebar-link {% if active == 'stats' %}active{% endif %}">
                <span class="icon">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
                        <rect x="3" y="12" width="4" height="8" rx="1.5"/>
                        <rect x="9.5" y="8" width="4" height="12" rx="1.5"/>
                        <rect x="16" y="4" width="4" height="16" rx="1.5"/>
                    </svg>
                </span> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
            </a>
            <a href="/manager/clients" class="sidebar-link {% if active == 'clients' %}active{% endif %}">
                <span class="icon">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
                        <circle cx="12" cy="8" r="4"/>
                        <path d="M4 20c0-3.3 3.6-6 8-6s8 2.7 8 6"/>
                    </svg>
                </span> –ö–ª–∏–µ–Ω—Ç—ã
            </a>
            <a href="/manager/keys" class="sidebar-link {% if active == 'keys' %}active{% endif %}">
                <span class="icon">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
                        <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/>
                    </svg>
                </span> –ö–ª—é—á–∏
            </a>
            <a href="/manager/servers" class="sidebar-link {% if active == 'servers' %}active{% endif %}">
                <span class="icon">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
                        <rect x="2" y="3" width="20" height="6" rx="1"/>
                        <rect x="2" y="15" width="20" height="6" rx="1"/>
                        <circle cx="6" cy="6" r="1"/>
                        <circle cx="6" cy="18" r="1"/>
                    </svg>
                </span> –°–µ—Ä–≤–µ—Ä—ã
            </a>
            <a href="/manager/managers" class="sidebar-link {% if active == 'managers' %}active{% endif %}">
                <span class="icon">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                        <circle cx="9" cy="7" r="4"/>
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                        <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                    </svg>
                </span> –ú–µ–Ω–µ–¥–∂–µ—Ä—ã
            </a>
            <a href="/manager/orders" class="sidebar-link {% if active == 'orders' %}active{% endif %}">
                <span class="icon">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
                        <path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"/>
                        <rect x="9" y="3" width="6" height="4" rx="1"/>
                        <path d="M9 12h6"/>
                        <path d="M9 16h6"/>
                    </svg>
                </span> –ó–∞–∫–∞–∑—ã
            </a>
            <a href="/manager/settings" class="sidebar-link {% if active == 'settings' %}active{% endif %}">
                <span class="icon">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v4m0 14v4m-7.07-2.93l2.83-2.83m8.48-8.48l2.83-2.83M1 12h4m14 0h4m-2.93 7.07l-2.83-2.83M6.76 6.76L3.93 3.93"/>
                    </svg>
                </span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
            </a>
            <a href="/manager/logout" class="sidebar-link">
                <span class="icon">
                    <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.7" viewBox="0 0 24 24">
                        <path d="M15 12H3"/>
                        <path d="M8 16l-5-4 5-4"/>
                        <path d="M21 12a9 9 0 1 0-9 9"/>
                    </svg>
                </span> –í—ã—Ö–æ–¥
            </a>
        </nav>
    </div>
    <div class="main-content">
        {% block content %}{% endblock %}
    </div>
    {% block scripts %}{% endblock %}
    <script src="{{ request.app.root_path }}/static/common.js"></script>
    <script>
    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
    document.getElementById('themeSwitch').onclick = function() {
        document.body.classList.toggle('dark-theme');
        document.body.classList.toggle('very-dark');
        const icon = document.getElementById('themeIcon');
        icon.textContent = document.body.classList.contains('dark-theme') ? 'üåô' : '‚òÄÔ∏è';
    };
    </script>
</body>
</html>
